/* jshint node: true */module.exports=function(e){"use strict";e.util.linefeed="\n";RegExp.quote=require("regexp-quote");var t=require("btoa");e.initConfig({pkg:e.file.readJSON("package.json"),banner:'/*!\n * Bootstrap v<%= pkg.version %> (<%= pkg.homepage %>)\n * Copyright <%= grunt.template.today("yyyy") %> <%= pkg.author %>\n * Licensed under <%= _.pluck(pkg.licenses, "url").join(", ") %>\n */\n\n',jqueryCheck:'if (typeof jQuery === "undefined") { throw new Error("Bootstrap requires jQuery") }\n\n',clean:{dist:["dist"]},jshint:{options:{jshintrc:"js/.jshintrc"},gruntfile:{src:"Gruntfile.js"},src:{src:["js/*.js"]},test:{src:["js/tests/unit/*.js"]},assets:{src:["docs-assets/js/application.js","docs-assets/js/customizer.js"]}},jscs:{options:{config:"js/.jscs.json"},gruntfile:{src:["Gruntfile.js"]},src:{src:["js/*.js"]},test:{src:["js/tests/unit/*.js"]}},csslint:{options:{csslintrc:".csslintrc"},src:["dist/css/bootstrap.css","dist/css/bootstrap-theme.css"]},concat:{options:{banner:"<%= banner %><%= jqueryCheck %>",stripBanners:!1},bootstrap:{src:["js/transition.js","js/alert.js","js/button.js","js/carousel.js","js/collapse.js","js/dropdown.js","js/modal.js","js/tooltip.js","js/popover.js","js/scrollspy.js","js/tab.js","js/affix.js"],dest:"dist/js/<%= pkg.name %>.js"}},uglify:{options:{banner:"<%= banner %>",report:"min"},bootstrap:{src:["<%= concat.bootstrap.dest %>"],dest:"dist/js/<%= pkg.name %>.min.js"},customize:{src:["docs-assets/js/less.js","docs-assets/js/jszip.js","docs-assets/js/uglify.js","docs-assets/js/filesaver.js","docs-assets/js/customizer.js"],dest:"docs-assets/js/customize.js"}},less:{compile:{options:{strictMath:!0},files:{"dist/css/<%= pkg.name %>.css":"less/bootstrap.less","dist/css/<%= pkg.name %>-theme.css":"less/theme.less"}},minify:{options:{cleancss:!0,report:"min"},files:{"dist/css/<%= pkg.name %>.min.css":"dist/css/<%= pkg.name %>.css","dist/css/<%= pkg.name %>-theme.min.css":"dist/css/<%= pkg.name %>-theme.css"}}},usebanner:{dist:{options:{position:"top",banner:"<%= banner %>"},files:{src:["dist/css/<%= pkg.name %>.css","dist/css/<%= pkg.name %>.min.css","dist/css/<%= pkg.name %>-theme.css","dist/css/<%= pkg.name %>-theme.min.css"]}}},csscomb:{sort:{options:{sortOrder:".csscomb.json"},files:{"dist/css/<%= pkg.name %>.css":["dist/css/<%= pkg.name %>.css"],"dist/css/<%= pkg.name %>-theme.css":["dist/css/<%= pkg.name %>-theme.css"]}}},copy:{fonts:{expand:!0,src:["fonts/*"],dest:"dist/"}},qunit:{options:{inject:"js/tests/unit/phantom.js"},files:["js/tests/*.html"]},connect:{server:{options:{port:3e3,base:"."}}},jekyll:{docs:{}},validation:{options:{reset:!0,relaxerror:["Bad value X-UA-Compatible for attribute http-equiv on element meta.","Element img is missing required attribute src."]},files:{src:["_gh_pages/**/*.html"]}},watch:{src:{files:"<%= jshint.src.src %>",tasks:["jshint:src","qunit"]},test:{files:"<%= jshint.test.src %>",tasks:["jshint:test","qunit"]},less:{files:"less/*.less",tasks:["less"]}},sed:{versionNumber:{pattern:function(){var t=e.option("oldver");return t?RegExp.quote(t):t}(),replacement:e.option("newver"),recursive:!0}},"saucelabs-qunit":{all:{options:{build:process.env.TRAVIS_JOB_ID,concurrency:3,urls:["http://127.0.0.1:3000/js/tests/index.html"],browsers:[{browserName:"safari",version:"7",platform:"OS X 10.9"},{browserName:"chrome",version:"31",platform:"OS X 10.9"},{browserName:"chrome",version:"31",platform:"Windows 8.1"},{browserName:"firefox",version:"25",platform:"Windows 8.1"},{browserName:"iphone",version:"6.1",platform:"OS X 10.8"},{browserName:"chrome",version:"30",platform:"Linux"},{browserName:"firefox",version:"25",platform:"Linux"}]}}}});require("load-grunt-tasks")(e,{scope:"devDependencies"});e.registerTask("validate-html",["jekyll","validation"]);var n=["dist-css","jshint","jscs","qunit","validate-html"];if(typeof process.env.SAUCE_ACCESS_KEY!="undefined"){n.push("connect");n.push("saucelabs-qunit")}e.registerTask("test",n);e.registerTask("dist-js",["concat","uglify"]);e.registerTask("dist-css",["less","csscomb","usebanner"]);e.registerTask("dist-fonts",["copy"]);e.registerTask("dist",["clean","dist-css","dist-fonts","dist-js"]);e.registerTask("default",["test","dist","build-customizer"]);e.registerTask("change-version-number",["sed"]);e.registerTask("build-customizer","Add scripts/less files to customizer.",function(){function n(n){var r={};e.readdirSync(n).filter(function(e){return n=="fonts"?!0:(new RegExp("\\."+n+"$")).test(e)}).forEach(function(i){var s=n+"/"+i;return r[i]=n=="fonts"?t(e.readFileSync(s)):e.readFileSync(s,"utf8")});return"var __"+n+" = "+JSON.stringify(r)+"\n"}var e=require("fs"),r=n("js")+n("less")+n("fonts");e.writeFileSync("docs-assets/js/raw-files.js",r)})};